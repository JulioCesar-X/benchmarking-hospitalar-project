<!-- <app-create-field-modal [isVisible]="isModalVisible" (closeEvent)="closeModal()"></app-create-field-modal> -->
<app-notification [message]="notificationMessage" [type]="notificationType"></app-notification>

<form>
  <div class="forms-container"> 
    <h2 class="forms-container--title" *ngIf="formsAction === 'create'" >Criar serviço</h2>
    <h2 class="forms-container--title" *ngIf="formsAction === 'edit'" >Editar serviço</h2>

    <div class="forms-container--inputContainer">
      <label class="inputContainer--label" for="nomeServico">Nome:</label>
      <input type="text" class="inputContainer--input" id="nomeServico" name="nomeServico"
        [(ngModel)]="selectedService.name" placeholder="Nome do serviço">
    </div>

    <div class="forms-container--inputContainer">
      <label class="inputContainer--label" for="description">Descrição:</label>
      <textarea class="inputContainer--input" id="description" name="description" [(ngModel)]="selectedService.description" placeholder="Descrição do serviço..."></textarea>
    </div>

    <div class="forms-container--inputContainer _inputFieldset">
        <label class="_inputFieldset--title">Imagem</label>
        <label for="file-upload" class="custom-file-upload">
          Escolher ficheiro
        </label>
        <input id="file-upload" type="file" (change)="onFileSelected($event)"/>
        <div id="file-chosen">{{ fileName }}</div>
    </div>

    <div class="checkboxContainer">
      <h4 class="checkboxContainer-title">Associar atividades:</h4>

      <div class="checkboxContainer--option" *ngFor="let activity of activities; let i = index; trackBy: trackByIndex">
        <input class="styled-checkbox" type="checkbox"
        [checked]="isSelected(activity.id)" 
        (click)="toggleSelection(activity.id)">
        <label>{{ activity.activity_name }}</label>
      </div>

      <div *ngIf="isLoadingAtivities" class="loading-circle">
        <div class="spinner"></div>
        <p>A carregar atividades...</p>
      </div>
    </div>

    <button type="submit" class="forms-Button" [disabled]="isLoadingAtivities">Adicionar</button>
  </div>
</form>

