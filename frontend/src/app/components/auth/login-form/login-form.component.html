<app-password-recup-modal
  [isVisible]="isModalVisible"
  (closeEvent)="closeModal()"
></app-password-recup-modal>

<form (ngSubmit)="onLogin()">
  <div
    class="relative flex flex-col justify-center items-center rounded-xl mx-auto my-5 pb-10 w-[90%] p-10 sm:w-1/2 gap-10 sm:px-10 md:max-w-[500px] md:min-h-[300px] blueBG"
    [ngClass]="{ redBorder: errorMessage }"
  >
    <div class="w-full" *ngIf="!isLoading">
      <input
        type="text"
        class="w-full loginInput"
        [ngClass]="{ 'loginInput--error': errorMessage }"
        id="email"
        placeholder="Enter your email"
        [(ngModel)]="email"
        name="email"
        required
      />
      <span *ngIf="errorMessage" class="errorSpan">{{ errorMessage }}</span>
    </div>
    <div class="w-full" *ngIf="!isLoading">
      <input
        type="password"
        [ngClass]="{ 'loginInput--error': errorMessage }"
        class="w-full loginInput"
        id="password"
        placeholder="Enter your password"
        [(ngModel)]="password"
        name="password"
        required
      />
      <span *ngIf="errorMessage" class="errorSpan">{{ errorMessage }}</span>
    </div>
    <button
      *ngIf="!isLoading"
      type="submit"
      class="mt-4 w-1/2 cursor-pointer uppercase py-1.5 px-4 rounded-full loginBtn"
    >
      Login
    </button>

    <!-- Spinner visÃ­vel apenas quando isLoading for verdadeiro -->
    <div *ngIf="isLoading" class="loading-circle_forBlueBG">
      <div class="spinner_forBlueBG"></div>
    </div>

    <a
      *ngIf="!isLoading"
      class="cursor-pointer mt-16 no-underline whiteTxt"
      (click)="openModal($event)"
      >Forgot Password?</a
    >
  </div>
</form>

<div *ngIf="isModalVisible">
  <app-password-recup-modal></app-password-recup-modal>
</div>
